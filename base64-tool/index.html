<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Base64 Encoder & Decoder â€“ SecureTools</title>
  <meta name="description" content="Encode or decode Base64 text securely in your browser with SecureTools. No tracking. No data sent to a server." />
  <link rel="icon" href="/assets/favicon-32x32.png" sizes="32x32" type="image/png" />
  <link rel="stylesheet" href="/assets/styles.css" />
</head>
<body>

  <nav>
    <a href="/" class="pill-button home-pill" aria-label="Go to SecureTools Home">Home</a>
  </nav>

  <main>
    <h1>Base64 Encoder & Decoder</h1>
    <p>Convert text to and from Base64 securely in your browser. Max 16,000 characters.</p>

    <label for="input">Input:</label>
    <textarea id="input" maxlength="16000" oninput="updateCounts()" placeholder="Enter text or Base64 here..."></textarea>
    <div class="input-meta">Input length: <span id="inputCount" aria-live="polite">0</span></div>

    <fieldset>
      <legend>Options</legend>

      <label for="stripWhitespace">
        <input type="checkbox" id="stripWhitespace" checked />
        Strip whitespace & newlines before decoding
        <span title="Check if input contains spaces or line breaks.">ðŸ›ˆ</span>
      </label>

      <label for="urlSafe">
        <input type="checkbox" id="urlSafe" />
        Use URL-safe Base64 (MIME-safe)
        <span title="Use URL-safe Base64 variant, replacing + and / with - and _.">ðŸ›ˆ</span>
      </label>

      <label for="formatBase64">
        <input type="checkbox" id="formatBase64" />
        Insert line breaks every 76 characters (MIME format)
        <span title="Format output with line breaks every 76 characters for email compatibility.">ðŸ›ˆ</span>
      </label>
    </fieldset>

    <div class="btn-row">
      <button type="button" onclick="handleEncode()">Encode</button>
      <button type="button" onclick="handleDecode()">Decode</button>
    </div>

    <section class="output-section">
      <label for="encoded">Encoded Output:</label>
      <textarea id="encoded" readonly></textarea>
      <div class="output-meta">Length: <span id="encodedCount" aria-live="polite">0</span></div>
      <button type="button" onclick="copyToClipboard('encoded')">Copy Encoded</button>
    </section>

    <section class="output-section">
      <label for="decoded">Decoded Output:</label>
      <textarea id="decoded" readonly></textarea>
      <div class="output-meta">Length: <span id="decodedCount" aria-live="polite">0</span></div>
      <button type="button" onclick="copyToClipboard('decoded')">Copy Decoded</button>
    </section>

    <div id="error" class="error" role="alert"></div>
    <div id="copied" class="copy-note" aria-live="assertive">Copied to clipboard!</div>

    <hr />

    <h2>Convert File to Base64</h2>
    <p>Select a file to instantly convert it to Base64 in your browser.</p>

    <input type="file" id="fileInput" onchange="handleFileUpload()" autocomplete="off" />
    <label for="stripDataPrefix">
      <input type="checkbox" id="stripDataPrefix" checked />
      Strip <code>data:</code> prefix
    </label>

    <textarea id="fileOutput" readonly placeholder="Encoded Base64 will appear here..." class="tall-textarea"></textarea>
    <div class="output-meta">Length: <span id="fileOutputCount" aria-live="polite">0</span></div>
    <button type="button" onclick="copyToClipboard('fileOutput')">Copy File Base64</button>

    <hr />

    <h2>Download Decoded Base64 as File</h2>
    <p>Paste Base64 text below and save it as a file.</p>

    <label for="downloadFilename">Filename:</label>
    <input type="text" id="downloadFilename" placeholder="example.txt" autocomplete="off" />

    <label for="downloadBase64Input">Base64 Input:</label>
    <textarea id="downloadBase64Input" placeholder="Paste Base64 here..." class="tall-textarea" oninput="updateDownloadCount()"></textarea>
    <div class="output-meta">Length: <span id="downloadBase64Count" aria-live="polite">0</span></div>

    <button type="button" onclick="handleBase64Download()">Download File</button>
    <div id="downloadError" class="error" role="alert"></div>

  </main>

  <script src="script.js"></script>
</body>
</html>
