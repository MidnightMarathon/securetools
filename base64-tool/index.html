<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Base64 Encoder & Decoder â€“ SecureTools</title>
  <meta name="description" content="Encode or decode Base64 text securely in your browser with SecureTools. No tracking. No data sent to a server." />
  <link rel="icon" href="/assets/favicon-32x32.png" sizes="32x32" type="image/png" />
  <link rel="stylesheet" href="/assets/styles.css" />
</head>
<body>

  <nav>
    <a href="/" class="pill-button home-pill" aria-label="Go to SecureTools Home">Home</a>
  </nav>

  <main>
    <h1>Base64 Encoder & Decoder</h1>
    <p>Convert text to and from Base64 securely in your browser. Max 16,000 characters.</p>

    <label for="input">Input:</label>
    <textarea id="input" maxlength="16000" oninput="updateCounts()" placeholder="Enter text or Base64 here..."></textarea>
    <div style="text-align:right; font-size: 0.9rem;">Input length: <span id="inputCount">0</span></div>

    <div style="margin: 1rem 0;">
      <label for="stripWhitespace" style="cursor: pointer;">
        <input type="checkbox" id="stripWhitespace" checked />
        Strip whitespace & newlines before decoding
        <span title="Check if input contains spaces or line breaks.">&#x1F6C8;</span>
      </label><br/>

      <label for="urlSafe" style="cursor: pointer;">
        <input type="checkbox" id="urlSafe" />
        Use URL-safe Base64 (MIME-safe)
        <span title="Use URL-safe Base64 variant, replacing + and / with - and _.">&#x1F6C8;</span>
      </label><br/>

      <label for="formatBase64" style="cursor: pointer;">
        <input type="checkbox" id="formatBase64" />
        Insert line breaks every 76 characters (MIME format)
        <span title="Format output with line breaks every 76 characters for email compatibility.">&#x1F6C8;</span>
      </label>
    </div>

    <div class="btn-row">
      <button onclick="handleEncode()">Encode</button>
      <button onclick="handleDecode()">Decode</button>
    </div>

    <div class="output-section">
      <label for="encoded">Encoded Output:</label>
      <textarea id="encoded" readonly></textarea>
      <div style="text-align:right; font-size: 0.9rem;">Length: <span id="encodedCount">0</span></div>
      <button onclick="copyToClipboard('encoded')">Copy Encoded</button>
    </div>

    <div class="output-section">
      <label for="decoded">Decoded Output:</label>
      <textarea id="decoded" readonly></textarea>
      <div style="text-align:right; font-size: 0.9rem;">Length: <span id="decodedCount">0</span></div>
      <button onclick="copyToClipboard('decoded')">Copy Decoded</button>
    </div>

    <div id="error" class="error"></div>
    <div id="copied" class="copy-note">Copied to clipboard!</div>

    <hr style="margin: 3rem 0;" />

    <h2>Convert File to Base64</h2>
    <p>Select a file to instantly convert it to Base64 in your browser.</p>

    <input type="file" id="fileInput" onchange="handleFileUpload()" />
    <div style="margin: 1rem 0;">
      <label>
        <input type="checkbox" id="stripDataPrefix" checked />
        Strip <code>data:</code> prefix
      </label>
    </div>

    <textarea id="fileOutput" readonly placeholder="Encoded Base64 will appear here..." style="min-height: 180px;"></textarea>
    <div style="text-align: right; font-size: 0.9rem;">Length: <span id="fileOutputCount">0</span></div>
    <button onclick="copyToClipboard('fileOutput')">Copy File Base64</button>

    <hr style="margin: 3rem 0;" />

    <h2>Download Decoded Base64 as File</h2>
    <p>Paste Base64 text below and save it as a file.</p>

    <label for="downloadFilename">Filename:</label>
    <input type="text" id="downloadFilename" placeholder="example.txt" style="width: 100%; padding: 0.5rem; margin-bottom: 0.5rem;" />

    <textarea id="downloadBase64Input" placeholder="Paste Base64 here..." style="min-height: 180px;" oninput="updateDownloadCount()"></textarea>
    <div style="text-align: right; font-size: 0.9rem;">Length: <span id="downloadBase64Count">0</span></div>

    <button onclick="handleBase64Download()">Download File</button>

    <div id="downloadError" class="error"></div>

  </main>

  <script src="script.js"></script>
</body>
</html>
